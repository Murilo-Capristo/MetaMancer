<!doctype html>
<html lang="pt-BR" data-theme="abyss" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <title>MetaMancer | Criar Personagem</title>
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-base-200 min-h-screen">

<header class="navbar bg-base-100 shadow-lg sticky top-0 z-50">
    <div class="flex-1">
        <a class="btn btn-ghost text-2xl" href="/character">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 2.5c-2.2 0-4.02 1.6-4.5 3.55C12.6 6.02 12.3 6 12 6s-.6.02-.98.05C10.52 4.1 8.7 2.5 6.5 2.5c-2.76 0-5 2.24-5 5 0 2.42 1.72 4.44 4 4.9V15c0 1.1.9 2 2 2h1c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1H6c-1.1 0-2 .9-2 2v.5c0 .28.22.5.5.5h15c.28 0 .5-.22.5-.5V22c0-1.1-.9-2-2-2h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h1c1.1 0 2-.9 2-2v-2.6c2.28-.46 4-2.48 4-4.9 0-2.76-2.24-5-5-5zM6.5 11c-1.93 0-3.5-1.57-3.5-3.5S4.57 4 6.5 4s3.5 1.57 3.5 3.5S8.43 11 6.5 11zm11 0c-1.93 0-3.5-1.57-3.5-3.5S15.57 4 17.5 4s3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></svg>
            MetaMancer
        </a>
    </div>
    <div class="flex-none">
        <a href="/character" class="btn btn-ghost">
            Voltar
        </a>
    </div>
</header>

<div class="container mx-auto p-4 md:p-8">

    <h1 class="text-4xl font-bold text-center mb-8 text-base-content">Criar Personagem</h1>

    <form  th:object="${character}" method="POST" class="max-w-3xl mx-auto p-6 bg-base-100 rounded-md shadow-md">

        <!-- Nome -->
        <fieldset class="fieldset m-4">
            <legend class="fieldset-legend" >Nome</legend>
            <input th:field="*{name}" th:errorclass="input-error" type="text" class="input" />
            <p class="label text-error" th:errors="*{name}"></p>
        </fieldset>

        <!-- Espécie -->
        <fieldset class="fieldset m-4">
            <legend class="fieldset-legend">Espécie</legend>
            <select th:field="*{species}" th:errorclass="input-error" class="select select-primary">
                <option value="" disabled selected>Escolha uma Espécie</option>
                <option value="HUMAN">HUMAN</option>
                <option value="CYBORG">CYBORG</option>
                <option value="ALIEN">ALIEN</option>
                <option value="ANDROID">ANDROID</option>
            </select>
            <p class="label text-error" th:errors="*{species}"></p>
        </fieldset>


        <!-- Nível Inicial -->
        <fieldset class="fieldset m-4">
            <legend class="fieldset-legend" >Nível Inicial</legend>
            <input th:field="*{startingLevel}" th:errorclass="input-error" id="range-score" type="range" min="1" max="100" class="range range-primary" />
            <p id="label-score" class="label" th:text="${'Level ' + character.startingLevel}"></p>
        </fieldset>

        <!-- Habilidade Especial -->
        <fieldset class="fieldset m-4">
            <legend class="fieldset-legend" >Habilidade Especial</legend>
            <input th:field="*{specialAbility}" th:errorclass="input-error" type="text" class="input" />
            <p class="label text-error" th:errors="*{specialAbility}"></p>
        </fieldset>

        <!-- Bio -->
        <fieldset class="fieldset m-4">
            <legend class="fieldset-legend" >Bio</legend>
            <textarea th:field="*{bio}"  th:errorclass="textarea-error"  class="textarea"></textarea>
            <p class="label text-error" th:errors="*{bio}"></p>
        </fieldset>

        <fieldset class="form-control bg-base-200 border border-base-300 rounded-box p-4">
            <legend class="px-2 font-semibold">Data</legend>
            <input type="date" th:field="*{creationDate}" class="input input-ghost w-full" />
            <p class="label-text-alt mt-1 text-error" th:if="${#fields.hasErrors('creationDate')}" th:errors="*{creationDate}"></p>
        </fieldset>

        <!-- Botões -->
        <field class="flex justify-between mt-6">
            <a href="/character" class="btn btn-neutral">Cancelar</a>
            <button type="submit" class="btn btn-primary">Salvar Personagem</button>
        </field>
    </form>

</div>
<script>
    document.querySelector("#range-score").addEventListener("input", (e) => {
        document.querySelector("#label-score").textContent = e.target.value + " pts";
    })
</script>
</body>
</html>
